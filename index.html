<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Secret Santa</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 500px; margin: auto; }
    .card { border: 1px solid #ccc; padding: 20px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    button { padding: 10px 20px; border-radius: 8px; border: none; cursor: pointer; }
    input { width: 100%; padding: 10px; margin-top: 8px; border-radius: 8px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h2>Secret Santa</h2>
  <div class="card">
    <p>Enter your name:</p>
    <input id="username" type="text" placeholder="Your name" />
    <button onclick="assignSanta()" style="margin-top: 10px;">Get Your Person</button>
    <p id="result" style="margin-top:20px; font-size:1.2em; font-weight:bold;"></p>
  </div>

  <script>
    // Shared list (replace with your family's names)
    const family = ["Alice", "Bob", "Charlie", "Diana", "Edward"]; 

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function assignSanta() {
      const user = document.getElementById("username").value.trim();
      const resultBox = document.getElementById("result");

      if (!user) {
        resultBox.textContent = "Please enter your name.";
        return;
      }

      if (!family.includes(user)) {
        resultBox.textContent = "Name not found in family list.";
        return;
      }

      let shuffled = shuffle([...family]);

      // Ensure no one gets themselves
      while (shuffled.some((name, i) => name === family[i])) {
        shuffled = shuffle([...family]);
      }

      const assigned = shuffled[family.indexOf(user)];
      resultBox.textContent = "You got: " + assigned;
    }
  </script>
</body>
</html>
